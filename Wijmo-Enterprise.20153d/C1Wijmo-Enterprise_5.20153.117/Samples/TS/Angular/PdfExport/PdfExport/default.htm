<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>PDF Export</title>

    <!-- ensure IE uses the latest version of IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- jQuery/Angular/Bootstrap -->
    <script src="http://code.jquery.com/jquery-2.0.0.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js" type="text/javascript"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />

    <!-- A modified version of the PDFKit.js library -->
    <script src="scripts/c1pdfkit.js"></script>

    <!-- Wijmo -->
    <script src="scripts/vendor/wijmo.min.js" type="text/javascript"></script>
    <script src="scripts/vendor/wijmo.grid.min.js" type="text/javascript"></script>
    <script src="scripts/vendor/wijmo.input.min.js" type="text/javascript"></script>
    <link href="styles/vendor/wijmo.min.css" rel="stylesheet" />
    <!-- Wijmo-Angular interop -->
    <script src="scripts/vendor/wijmo.angular.min.js" type="text/javascript"></script>

    <!-- app scripts -->
    <script src="scripts/PdfDocument/PdfDocument.js" type="text/javascript"></script>
    <script src="scripts/FlexGridPdfConverter/FlexGridPdfConverter.js" type="text/javascript"></script>

    <script src="scripts/services/dataService.js" type="text/javascript"></script>
    <script src="scripts/directives/appDctv.js" type="text/javascript"></script>
    <script src="scripts/controllers/basicController.js" type="text/javascript"></script>
    <link href="styles/app.css" rel="stylesheet" />
</head>
<body ng-app="app" ng-controller="basicController">
    <div class="header fixed">
        <div class="container">
            <h1>
                <img src="resources/wijmo5.png" alt="logo" />
                PDF Export
            </h1>
        </div>
        <div class="export-settings">
            <div class="container">
                <div class="row form-inline">
                    <div class="col-sm-2 col-xs-12 app-nopad">
                        <p>Export Settings:</p>
                    </div>
                    <div class="col-sm-3 col-xs-12 app-nopad">
                        <wj-menu value="ctx.scaleMode" header="Scale mode" selected-index="2">
                            <wj-menu-item value="0">ActualSize</wj-menu-item>
                            <wj-menu-item value="1">PageWidth</wj-menu-item>
                            <wj-menu-item value="2">SinglePage</wj-menu-item>
                        </wj-menu>
                    </div>
                    <div class="col-sm-3 col-xs-12 app-nopad">
                        <wj-menu value="ctx.orientation" header="Orientation">
                            <wj-menu-item value="0">Portrait</wj-menu-item>
                            <wj-menu-item value="1">Landscape</wj-menu-item>
                        </wj-menu>
                    </div>
                    <div class="col-sm-3 col-xs-12 app-nopad">
                        <wj-menu value="ctx.exportMode" header="Export mode">
                            <wj-menu-item value="0">All</wj-menu-item>
                            <wj-menu-item value="1">Selection</wj-menu-item>
                        </wj-menu>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- commands -->
    <div class="container top-pad">
        <div class="copy well">
            <p>
                You can use the FlexGridPdfConverter, a <a href="https://github.com/devongovett/pdfkit">PDFKit</a>-based JavaScript library,
                to export FlexGrid to PDF (Portable Document Format) without using any server-side code.
            </p>
            <p>
                To export a FlexGrid, you need to use the <b>FlexGridPdfConverter.export</b> function that takes the following arguments:
            </p>
            <ul>
                <li>A FlexGrid instance.</li>
                <li>Name of the file to export.</li>
                <li>Export settings.</li>
            </ul>
            <p>
                In this sample, you can change the following export settings using the menus above:
            </p>
            <ul>
                <li><b>scaleMode</b>: Determines how the FlexGrid content should be scaled in order to fit the page.</li>
                <li><b>orientation</b>: Determines the orientation of pages.</li>
                <li><b>exportMode</b>: Determines which part of the FlexGrid should be exported (all of the data or only the current selection).</li>
            </ul>
        </div>

        <!-- the flex grid -->
        <div>
            <h3>Grouping support</h3>
            <p>
                This sample shows how the row grouping feature of the FlexGrid is supported in the FlexGridPdfConverter.
            </p>
            <button class="btn btn-default" id="Button1" ng-click="exportGroupedGrid()">Export</button>
            <wj-flex-grid class="grid"
                          control="ctx.groupedGrid"
                          selection-mode="ListBox"
                          headers-visibility="All"
                          items-source="ctx.data">
                <wj-flex-grid-column header="ID" binding="id"></wj-flex-grid-column>
                <wj-flex-grid-column header="Start Date" binding="start" format="d"></wj-flex-grid-column>
                <wj-flex-grid-column header="End Date" binding="end" format="d"></wj-flex-grid-column>
                <wj-flex-grid-column header="Country" binding="country"></wj-flex-grid-column>
                <wj-flex-grid-column header="Product" binding="product"></wj-flex-grid-column>
                <wj-flex-grid-column header="Amount22" binding="amount" format="c" aggregate="Sum"></wj-flex-grid-column>
                <wj-flex-grid-column header="Color" binding="color"></wj-flex-grid-column>
                <wj-flex-grid-column header="Pending" binding="amount2" format="c2"></wj-flex-grid-column>
                <wj-flex-grid-column header="Discount" binding="discount" format="p1"></wj-flex-grid-column>
                <wj-flex-grid-column header="Active" binding="active"></wj-flex-grid-column>
            </wj-flex-grid>
            <br />
            <br />
        </div>

        <div>
            <h3>Merging support</h3>
            <p>
                This sample shows how the cell merging feature of the FlexGrid is supported in the FlexGridPdfConverter.
            </p>
            <wj-menu value="ctx.mergedGrid.allowMerging" header="Allow Merging">
                <wj-menu-item value="0">None</wj-menu-item>
                <wj-menu-item value="1">Cells</wj-menu-item>
                <wj-menu-item value="2">ColumnHeaders</wj-menu-item>
                <wj-menu-item value="4">RowHeaders</wj-menu-item>
                <wj-menu-item value="6">AllHeaders</wj-menu-item>
                <wj-menu-item value="7">All</wj-menu-item>
            </wj-menu>
            <br />
            <br />
            <button class="btn btn-default" id="Button2" ng-click="exportMergedGrid()">Export</button>

            <wj-flex-grid class="grid"
                          control="ctx.mergedGrid"
                          allow-dragging="None"
                          allow-merging="All"
                          items-source-changed="onMergedGridSourceChanged(s, e)"
                          items-source="ctx.data2">
                <wj-flex-grid-column header="ID" binding="id" align="right"></wj-flex-grid-column>
                <wj-flex-grid-column header="Country" binding="country" allow-merging="true"></wj-flex-grid-column>
                <wj-flex-grid-column header="Product" binding="product" allow-merging="true"></wj-flex-grid-column>
                <wj-flex-grid-column header="Color" binding="color" allow-merging="true"></wj-flex-grid-column>
                <wj-flex-grid-column header="Amount" binding="amount" data-type="Number" format="n0" align="right" aggregate="Sum"></wj-flex-grid-column>
                <wj-flex-grid-column header="Discount" binding="discount" data-type="Number" format="p0" align="right" aggregate="Average"></wj-flex-grid-column>
                <wj-flex-grid-column header="Active" binding="active" allow-merging="true" data-type="Boolean" align="center"></wj-flex-grid-column>
            </wj-flex-grid>
            <br />
            <br />
        </div>

        <div>
            <h3>Tree view support and font embedding</h3>
            <p>
                This sample shows how the tree view feature of the FlexGrid is supported in the FlexGridPdfConverter.
            </p>
            <p>
                In this sample, FlexGrid uses font <a href="https://github.com/mozilla/Fira">Fira</a>
                and two typefaces, <b>FiraSans-Regular.ttf</b> and <b>FiraSans-Bold.ttf</b>, are embeded into the document.
                The FiraSans-Bold.ttf (boldface) typeface is used to display the header cells, and the FiraSans-Regular.ttf
                typeface is used for rest of the content.
            </p>
            <p>
                To achieve this, the following export settings are used:
            </p>
            <ul>
                <li>
                    <b>embeddedFonts</b>: Provides information to the export library, about various custom fonts to be embedded, such as URL,
                    name, style, weight.
                </li>
                <li><b>styles</b>: It is used to set up the style for the grid elements and link them with the embedded fonts.</li>
            </ul>
            <button class="btn btn-default" id="Button3" ng-click="exportTreeViewGrid()">Export</button>

            <wj-flex-grid class="grid custom-flex-grid"
                          control="ctx.treeViewGrid"
                          class="custom-flex-grid"
                          items-source="ctx.treeData"
                          child-items-path="items"
                          allow-resizing="None"
                          selection-mode="ListBox"
                          headers-visibility="Column">
                <wj-flex-grid-column header="Name" binding="name" width="*"></wj-flex-grid-column>
                <wj-flex-grid-column header="Length" binding="length" width="80"></wj-flex-grid-column>
            </wj-flex-grid>
        </div>
    </div>
</body>
</html>